<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鰹相場グラフ</title>
    <meta name="apple-mobile-web-app-title" content="鰹相場グラフ">
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.1"></script>

    <!-- アイコン設定 -->
    <link rel="icon" type="image/png" href="marucyou_mark.png">
    <link rel="apple-touch-icon" href="marucyou_mark.png">
</head>

<body class="theme-dark"> <!-- デフォルトはダークモード -->
    <!-- スプラッシュ画面 -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <img src="marucyou_mark_white.png" alt="Marucyou Logo" class="splash-logo">
            <div class="loader"></div>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="theme-switcher">
                <button class="btn-theme active" data-theme="dark">Dark</button>
                <button class="btn-theme" data-theme="light">Light</button>
                <button class="btn-theme" data-theme="ocean">Ocean</button>
            </div>
            <h1>鰹相場グラフ</h1>
            <p class="description">枕崎・焼津・山川におけるサイズ別(1.8+/2.5+/4.5+)相場推移</p>

            <div class="filter-controls">
                <button class="btn-filter active" data-range="all">全期間</button>
                <button class="btn-filter" data-range="30">1ヶ月</button>
                <button class="btn-filter" data-range="7">1週間</button>
                <button id="btn-refresh" class="btn-refresh">🔄 更新</button>
            </div>
        </header>

        <nav class="main-tabs">
            <button class="tab-item active" data-tab="summary">📋 最新相場一覧</button>
            <button class="tab-item" data-tab="charts">📈 グラフ推移</button>
        </nav>

        <!-- 最新一覧サマリービュー（初期表示） -->
        <div id="view-summary" class="tab-view active">
            <div id="summary-container" class="summary-grid">
                <!-- ここにJSでカードが生成されます -->
                <p>最新データを分析中...</p>
            </div>
        </div>

        <!-- グラフ表示ビュー -->
        <div id="view-charts" class="tab-view">
            <div class="insight-section">
                <div class="insight-card">
                    <h3>🔍 相場トレンド・分析</h3>
                    <div id="insight-content" class="insight-content">
                        <p>データを読み込み中...</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="chart-card">
                    <div class="chart-header">
                        <span class="port-title">枕崎 (Makurazaki)</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="chart-枕崎"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <span class="port-title">焼津 (Yaizu)</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="chart-焼津"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <span class="port-title">山川 (Yamagawa)</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="chart-山川"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Data Source: 各市況データ</p>
            <p>&copy; 2026 Marucyou Skipjack Analytics</p>
        </footer>
    </div>

    <script src="dashboard.js"></script>
</body>

</html>